----------------------------------------------------------------------------------
-- Company: 
-- Engineer: 
-- 
-- Create Date: 10/28/2019 11:40:26 AM
-- Design Name: 
-- Module Name: tb_fft_controller - Behavioral
-- Project Name: 
-- Target Devices: 
-- Tool Versions: 
-- Description: 
-- 
-- Dependencies: 
-- 
-- Revision:
-- Revision 0.01 - File Created
-- Additional Comments:
-- 
----------------------------------------------------------------------------------


library IEEE;
use IEEE.STD_LOGIC_1164.ALL;

-- Uncomment the following library declaration if using
-- arithmetic functions with Signed or Unsigned values
use IEEE.NUMERIC_STD.ALL;

-- Uncomment the following library declaration if instantiating
-- any Xilinx leaf cells in this code.
--library UNISIM;
--use UNISIM.VComponents.all;

entity tb_fft_controller is
	generic(
		transform_length: integer := 2048;
		blk_exp_length : integer := 5;
		din_width : integer := 24;
		tdata_width : integer := 48
	);
--  Port ( );
end tb_fft_controller;

architecture Behavioral of tb_fft_controller is


	component fft_controller is
		generic(
			transform_length: integer := 2048;
			blk_exp_length : integer := 5;
			din_width : integer := 24;
			tdata_width : integer := 48
		);
		Port (
			clk : in STD_LOGIC;
			counter : in integer range 0 to transform_length-1;
			din : in STD_LOGIC_VECTOR(din_width-1 downto 0);
			din_valid : in STD_LOGIC;
			dout : out STD_LOGIC_VECTOR(din_width-1 downto 0);
			dout_valid : out STD_LOGIC; --Asserted when able to provide sample data
			dout_last : out STD_LOGIC; --Asserted on the last sample of the frame.
			blk_exp : out integer range 0 to (2**blk_exp_length - 1) --represents the total number of bits the data was scaled during the transform
		);
	end component;
	
	signal s_clk :  STD_LOGIC;
	signal s_counter :  integer := 0;
	signal s_din :  STD_LOGIC_VECTOR(23 downto 0);
	constant s_din_valid :  STD_LOGIC := '1';
	signal s_dout :  STD_LOGIC_VECTOR(23 downto 0);
	signal s_dout_valid :  STD_LOGIC;
	signal s_dout_last :  STD_LOGIC;
	signal s_blk_exp :  integer range 0 to (2**blk_exp_length - 1);
	constant PERIOD : time := 1ns;
	type int_array is array (0 to transform_length-1) of integer range -(2**din_width) to (2**din_width)-1;
	constant sinewave : int_array := (0,51472,102943,154413,205882,257349,308813,360275,411733,463187,514637,566082,617522,668956,720384,771805,823218,874624,926022,977411,1028790,1080160,1131520,1182869,1234207,1285534,1336848,1388150,1439439,1490714,1541975,1593222,1644453,1695669,1746869,1798053,1849220,1900369,1951501,2002614,2053708,2104783,2155839,2206873,2257887,2308880,2359851,2410800,2461727,2512630,2563509,2614364,2665195,2716000,2766780,2817534,2868262,2918962,2969635,3020280,3070897,3121484,3172043,3222571,3273069,3323537,3373973,3424377,3474749,3525088,3575394,3625667,3675905,3726109,3776278,3826411,3876508,3926569,3976592,4026579,4076527,4126437,4176308,4226140,4275932,4325684,4375395,4425065,4474693,4524279,4573823,4623324,4672781,4722194,4771562,4820886,4870164,4919397,4968583,5017722,5066814,5115859,5164855,5213803,5262701,5311550,5360349,5409098,5457796,5506442,5555037,5603579,5652068,5700505,5748887,5797216,5845490,5893709,5941872,5989980,6038031,6086025,6133962,6181842,6229663,6277425,6325129,6372773,6420356,6467880,6515343,6562744,6610083,6657361,6704575,6751727,6798815,6845839,6892798,6939693,6986522,7033286,7079983,7126614,7173177,7219673,7266102,7312461,7358752,7404974,7451126,7497208,7543219,7589159,7635028,7680825,7726550,7772202,7817781,7863286,7908717,7954074,7999356,8044563,8089694,8134748,8179727,8224628,8269452,8314198,8358865,8403454,8447964,8492395,8536745,8581015,8625205,8669313,8713339,8757284,8801146,8844925,8888621,8932234,8975762,9019206,9062565,9105838,9149026,9192128,9235144,9278072,9320913,9363666,9406331,9448908,9491396,9533794,9576103,9618321,9660449,9702486,9744432,9786286,9828048,9869717,9911294,9952777,9994166,10035462,10076663,10117769,10158780,10199695,10240514,10281237,10321863,10362392,10402824,10443157,10483393,10523529,10563567,10603505,10643343,10683081,10722719,10762255,10801691,10841024,10880256,10919385,10958411,10997335,11036154,11074870,11113482,11151989,11190391,11228688,11266879,11304964,11342943,11380814,11418579,11456236,11493786,11531227,11568560,11605783,11642898,11679903,11716798,11753583,11790257,11826820,11863272,11899612,11935840,11971956,12007959,12043849,12079626,12115289,12150838,12186273,12221593,12256798,12291887,12326861,12361719,12396460,12431085,12465593,12499983,12534256,12568411,12602448,12636366,12670165,12703844,12737404,12770845,12804165,12837364,12870443,12903401,12936237,12968951,13001543,13034013,13066360,13098585,13130686,13162663,13194516,13226246,13257850,13289330,13320685,13351915,13383019,13413997,13444848,13475573,13506172,13536643,13566986,13597203,13627291,13657250,13687082,13716784,13746357,13775801,13805115,13834300,13863354,13892277,13921070,13949732,13978262,14006661,14034929,14063064,14091066,14118936,14146673,14174277,14201748,14229085,14256288,14283356,14310291,14337090,14363755,14390284,14416678,14442937,14469059,14495045,14520895,14546608,14572184,14597623,14622925,14648089,14673115,14698003,14722753,14747364,14771836,14796169,14820363,14844418,14868333,14892107,14915742,14939236,14962590,14985803,15008874,15031805,15054594,15077241,15099747,15122110,15144331,15166409,15188345,15210137,15231787,15253293,15274656,15295874,15316949,15337880,15358666,15379308,15399805,15420157,15440364,15460425,15480341,15500112,15519736,15539214,15558547,15577732,15596771,15615663,15634409,15653007,15671458,15689761,15707916,15725924,15743784,15761495,15779058,15796473,15813739,15830856,15847824,15864643,15881313,15897833,15914203,15930424,15946495,15962416,15978186,15993806,16009276,16024594,16039762,16054779,16069645,16084360,16098923,16113335,16127595,16141703,16155660,16169464,16183116,16196616,16209963,16223158,16236200,16249089,16261825,16274408,16286838,16299115,16311238,16323208,16335024,16346687,16358195,16369550,16380750,16391797,16402689,16413426,16424009,16434438,16444712,16454831,16464795,16474604,16484258,16493757,16503101,16512290,16521323,16530200,16538922,16547488,16555899,16564153,16572252,16580195,16587982,16595612,16603087,16610405,16617566,16624572,16631421,16638113,16644649,16651028,16657250,16663316,16669224,16674976,16680571,16686009,16691290,16696413,16701380,16706189,16710841,16715336,16719673,16723854,16727876,16731741,16735449,16738999,16742392,16745627,16748705,16751625,16754387,16756991,16759438,16761727,16763858,16765832,16767647,16769305,16770805,16772147,16773331,16774358,16775226,16775937,16776489,16776884,16777121,16777200,16777121,16776884,16776489,16775937,16775226,16774358,16773331,16772147,16770805,16769305,16767647,16765832,16763858,16761727,16759438,16756991,16754387,16751625,16748705,16745627,16742392,16738999,16735449,16731741,16727876,16723854,16719673,16715336,16710841,16706189,16701380,16696413,16691290,16686009,16680571,16674976,16669224,16663316,16657250,16651028,16644649,16638113,16631421,16624572,16617566,16610405,16603087,16595612,16587982,16580195,16572252,16564153,16555899,16547488,16538922,16530200,16521323,16512290,16503101,16493757,16484258,16474604,16464795,16454831,16444712,16434438,16424009,16413426,16402689,16391797,16380750,16369550,16358195,16346687,16335024,16323208,16311238,16299115,16286838,16274408,16261825,16249089,16236200,16223158,16209963,16196616,16183116,16169464,16155660,16141703,16127595,16113335,16098923,16084360,16069645,16054779,16039762,16024594,16009276,15993806,15978186,15962416,15946495,15930424,15914203,15897833,15881313,15864643,15847824,15830856,15813739,15796473,15779058,15761495,15743784,15725924,15707916,15689761,15671458,15653007,15634409,15615663,15596771,15577732,15558547,15539214,15519736,15500112,15480341,15460425,15440364,15420157,15399805,15379308,15358666,15337880,15316949,15295874,15274656,15253293,15231787,15210137,15188345,15166409,15144331,15122110,15099747,15077241,15054594,15031805,15008874,14985803,14962590,14939236,14915742,14892107,14868333,14844418,14820363,14796169,14771836,14747364,14722753,14698003,14673115,14648089,14622925,14597623,14572184,14546608,14520895,14495045,14469059,14442937,14416678,14390284,14363755,14337090,14310291,14283356,14256288,14229085,14201748,14174277,14146673,14118936,14091066,14063064,14034929,14006661,13978262,13949732,13921070,13892277,13863354,13834300,13805115,13775801,13746357,13716784,13687082,13657250,13627291,13597203,13566986,13536643,13506172,13475573,13444848,13413997,13383019,13351915,13320685,13289330,13257850,13226246,13194516,13162663,13130686,13098585,13066360,13034013,13001543,12968951,12936237,12903401,12870443,12837364,12804165,12770845,12737404,12703844,12670165,12636366,12602448,12568411,12534256,12499983,12465593,12431085,12396460,12361719,12326861,12291887,12256798,12221593,12186273,12150838,12115289,12079626,12043849,12007959,11971956,11935840,11899612,11863272,11826820,11790257,11753583,11716798,11679903,11642898,11605783,11568560,11531227,11493786,11456236,11418579,11380814,11342943,11304964,11266879,11228688,11190391,11151989,11113482,11074870,11036154,10997335,10958411,10919385,10880256,10841024,10801691,10762255,10722719,10683081,10643343,10603505,10563567,10523529,10483393,10443157,10402824,10362392,10321863,10281237,10240514,10199695,10158780,10117769,10076663,10035462,9994166,9952777,9911294,9869717,9828048,9786286,9744432,9702486,9660449,9618321,9576103,9533794,9491396,9448908,9406331,9363666,9320913,9278072,9235144,9192128,9149026,9105838,9062565,9019206,8975762,8932234,8888621,8844925,8801146,8757284,8713339,8669313,8625205,8581015,8536745,8492395,8447964,8403454,8358865,8314198,8269452,8224628,8179727,8134748,8089694,8044563,7999356,7954074,7908717,7863286,7817781,7772202,7726550,7680825,7635028,7589159,7543219,7497208,7451126,7404974,7358752,7312461,7266102,7219673,7173177,7126614,7079983,7033286,6986522,6939693,6892798,6845839,6798815,6751727,6704575,6657361,6610083,6562744,6515343,6467880,6420356,6372773,6325129,6277425,6229663,6181842,6133962,6086025,6038031,5989980,5941872,5893709,5845490,5797216,5748887,5700505,5652068,5603579,5555037,5506442,5457796,5409098,5360349,5311550,5262701,5213803,5164855,5115859,5066814,5017722,4968583,4919397,4870164,4820886,4771562,4722194,4672781,4623324,4573823,4524279,4474693,4425065,4375395,4325684,4275932,4226140,4176308,4126437,4076527,4026579,3976592,3926569,3876508,3826411,3776278,3726109,3675905,3625667,3575394,3525088,3474749,3424377,3373973,3323537,3273069,3222571,3172043,3121484,3070897,3020280,2969635,2918962,2868262,2817534,2766780,2716000,2665195,2614364,2563509,2512630,2461727,2410800,2359851,2308880,2257887,2206873,2155839,2104783,2053708,2002614,1951501,1900369,1849220,1798053,1746869,1695669,1644453,1593222,1541975,1490714,1439439,1388150,1336848,1285534,1234207,1182869,1131520,1080160,1028790,977411,926022,874624,823218,771805,720384,668956,617522,566082,514637,463187,411733,360275,308813,257349,205882,154413,102943,51472,0,-51472,-102943,-154413,-205882,-257349,-308813,-360275,-411733,-463187,-514637,-566082,-617522,-668956,-720384,-771805,-823218,-874624,-926022,-977411,-1028790,-1080160,-1131520,-1182869,-1234207,-1285534,-1336848,-1388150,-1439439,-1490714,-1541975,-1593222,-1644453,-1695669,-1746869,-1798053,-1849220,-1900369,-1951501,-2002614,-2053708,-2104783,-2155839,-2206873,-2257887,-2308880,-2359851,-2410800,-2461727,-2512630,-2563509,-2614364,-2665195,-2716000,-2766780,-2817534,-2868262,-2918962,-2969635,-3020280,-3070897,-3121484,-3172043,-3222571,-3273069,-3323537,-3373973,-3424377,-3474749,-3525088,-3575394,-3625667,-3675905,-3726109,-3776278,-3826411,-3876508,-3926569,-3976592,-4026579,-4076527,-4126437,-4176308,-4226140,-4275932,-4325684,-4375395,-4425065,-4474693,-4524279,-4573823,-4623324,-4672781,-4722194,-4771562,-4820886,-4870164,-4919397,-4968583,-5017722,-5066814,-5115859,-5164855,-5213803,-5262701,-5311550,-5360349,-5409098,-5457796,-5506442,-5555037,-5603579,-5652068,-5700505,-5748887,-5797216,-5845490,-5893709,-5941872,-5989980,-6038031,-6086025,-6133962,-6181842,-6229663,-6277425,-6325129,-6372773,-6420356,-6467880,-6515343,-6562744,-6610083,-6657361,-6704575,-6751727,-6798815,-6845839,-6892798,-6939693,-6986522,-7033286,-7079983,-7126614,-7173177,-7219673,-7266102,-7312461,-7358752,-7404974,-7451126,-7497208,-7543219,-7589159,-7635028,-7680825,-7726550,-7772202,-7817781,-7863286,-7908717,-7954074,-7999356,-8044563,-8089694,-8134748,-8179727,-8224628,-8269452,-8314198,-8358865,-8403454,-8447964,-8492395,-8536745,-8581015,-8625205,-8669313,-8713339,-8757284,-8801146,-8844925,-8888621,-8932234,-8975762,-9019206,-9062565,-9105838,-9149026,-9192128,-9235144,-9278072,-9320913,-9363666,-9406331,-9448908,-9491396,-9533794,-9576103,-9618321,-9660449,-9702486,-9744432,-9786286,-9828048,-9869717,-9911294,-9952777,-9994166,-10035462,-10076663,-10117769,-10158780,-10199695,-10240514,-10281237,-10321863,-10362392,-10402824,-10443157,-10483393,-10523529,-10563567,-10603505,-10643343,-10683081,-10722719,-10762255,-10801691,-10841024,-10880256,-10919385,-10958411,-10997335,-11036154,-11074870,-11113482,-11151989,-11190391,-11228688,-11266879,-11304964,-11342943,-11380814,-11418579,-11456236,-11493786,-11531227,-11568560,-11605783,-11642898,-11679903,-11716798,-11753583,-11790257,-11826820,-11863272,-11899612,-11935840,-11971956,-12007959,-12043849,-12079626,-12115289,-12150838,-12186273,-12221593,-12256798,-12291887,-12326861,-12361719,-12396460,-12431085,-12465593,-12499983,-12534256,-12568411,-12602448,-12636366,-12670165,-12703844,-12737404,-12770845,-12804165,-12837364,-12870443,-12903401,-12936237,-12968951,-13001543,-13034013,-13066360,-13098585,-13130686,-13162663,-13194516,-13226246,-13257850,-13289330,-13320685,-13351915,-13383019,-13413997,-13444848,-13475573,-13506172,-13536643,-13566986,-13597203,-13627291,-13657250,-13687082,-13716784,-13746357,-13775801,-13805115,-13834300,-13863354,-13892277,-13921070,-13949732,-13978262,-14006661,-14034929,-14063064,-14091066,-14118936,-14146673,-14174277,-14201748,-14229085,-14256288,-14283356,-14310291,-14337090,-14363755,-14390284,-14416678,-14442937,-14469059,-14495045,-14520895,-14546608,-14572184,-14597623,-14622925,-14648089,-14673115,-14698003,-14722753,-14747364,-14771836,-14796169,-14820363,-14844418,-14868333,-14892107,-14915742,-14939236,-14962590,-14985803,-15008874,-15031805,-15054594,-15077241,-15099747,-15122110,-15144331,-15166409,-15188345,-15210137,-15231787,-15253293,-15274656,-15295874,-15316949,-15337880,-15358666,-15379308,-15399805,-15420157,-15440364,-15460425,-15480341,-15500112,-15519736,-15539214,-15558547,-15577732,-15596771,-15615663,-15634409,-15653007,-15671458,-15689761,-15707916,-15725924,-15743784,-15761495,-15779058,-15796473,-15813739,-15830856,-15847824,-15864643,-15881313,-15897833,-15914203,-15930424,-15946495,-15962416,-15978186,-15993806,-16009276,-16024594,-16039762,-16054779,-16069645,-16084360,-16098923,-16113335,-16127595,-16141703,-16155660,-16169464,-16183116,-16196616,-16209963,-16223158,-16236200,-16249089,-16261825,-16274408,-16286838,-16299115,-16311238,-16323208,-16335024,-16346687,-16358195,-16369550,-16380750,-16391797,-16402689,-16413426,-16424009,-16434438,-16444712,-16454831,-16464795,-16474604,-16484258,-16493757,-16503101,-16512290,-16521323,-16530200,-16538922,-16547488,-16555899,-16564153,-16572252,-16580195,-16587982,-16595612,-16603087,-16610405,-16617566,-16624572,-16631421,-16638113,-16644649,-16651028,-16657250,-16663316,-16669224,-16674976,-16680571,-16686009,-16691290,-16696413,-16701380,-16706189,-16710841,-16715336,-16719673,-16723854,-16727876,-16731741,-16735449,-16738999,-16742392,-16745627,-16748705,-16751625,-16754387,-16756991,-16759438,-16761727,-16763858,-16765832,-16767647,-16769305,-16770805,-16772147,-16773331,-16774358,-16775226,-16775937,-16776489,-16776884,-16777121,-16777200,-16777121,-16776884,-16776489,-16775937,-16775226,-16774358,-16773331,-16772147,-16770805,-16769305,-16767647,-16765832,-16763858,-16761727,-16759438,-16756991,-16754387,-16751625,-16748705,-16745627,-16742392,-16738999,-16735449,-16731741,-16727876,-16723854,-16719673,-16715336,-16710841,-16706189,-16701380,-16696413,-16691290,-16686009,-16680571,-16674976,-16669224,-16663316,-16657250,-16651028,-16644649,-16638113,-16631421,-16624572,-16617566,-16610405,-16603087,-16595612,-16587982,-16580195,-16572252,-16564153,-16555899,-16547488,-16538922,-16530200,-16521323,-16512290,-16503101,-16493757,-16484258,-16474604,-16464795,-16454831,-16444712,-16434438,-16424009,-16413426,-16402689,-16391797,-16380750,-16369550,-16358195,-16346687,-16335024,-16323208,-16311238,-16299115,-16286838,-16274408,-16261825,-16249089,-16236200,-16223158,-16209963,-16196616,-16183116,-16169464,-16155660,-16141703,-16127595,-16113335,-16098923,-16084360,-16069645,-16054779,-16039762,-16024594,-16009276,-15993806,-15978186,-15962416,-15946495,-15930424,-15914203,-15897833,-15881313,-15864643,-15847824,-15830856,-15813739,-15796473,-15779058,-15761495,-15743784,-15725924,-15707916,-15689761,-15671458,-15653007,-15634409,-15615663,-15596771,-15577732,-15558547,-15539214,-15519736,-15500112,-15480341,-15460425,-15440364,-15420157,-15399805,-15379308,-15358666,-15337880,-15316949,-15295874,-15274656,-15253293,-15231787,-15210137,-15188345,-15166409,-15144331,-15122110,-15099747,-15077241,-15054594,-15031805,-15008874,-14985803,-14962590,-14939236,-14915742,-14892107,-14868333,-14844418,-14820363,-14796169,-14771836,-14747364,-14722753,-14698003,-14673115,-14648089,-14622925,-14597623,-14572184,-14546608,-14520895,-14495045,-14469059,-14442937,-14416678,-14390284,-14363755,-14337090,-14310291,-14283356,-14256288,-14229085,-14201748,-14174277,-14146673,-14118936,-14091066,-14063064,-14034929,-14006661,-13978262,-13949732,-13921070,-13892277,-13863354,-13834300,-13805115,-13775801,-13746357,-13716784,-13687082,-13657250,-13627291,-13597203,-13566986,-13536643,-13506172,-13475573,-13444848,-13413997,-13383019,-13351915,-13320685,-13289330,-13257850,-13226246,-13194516,-13162663,-13130686,-13098585,-13066360,-13034013,-13001543,-12968951,-12936237,-12903401,-12870443,-12837364,-12804165,-12770845,-12737404,-12703844,-12670165,-12636366,-12602448,-12568411,-12534256,-12499983,-12465593,-12431085,-12396460,-12361719,-12326861,-12291887,-12256798,-12221593,-12186273,-12150838,-12115289,-12079626,-12043849,-12007959,-11971956,-11935840,-11899612,-11863272,-11826820,-11790257,-11753583,-11716798,-11679903,-11642898,-11605783,-11568560,-11531227,-11493786,-11456236,-11418579,-11380814,-11342943,-11304964,-11266879,-11228688,-11190391,-11151989,-11113482,-11074870,-11036154,-10997335,-10958411,-10919385,-10880256,-10841024,-10801691,-10762255,-10722719,-10683081,-10643343,-10603505,-10563567,-10523529,-10483393,-10443157,-10402824,-10362392,-10321863,-10281237,-10240514,-10199695,-10158780,-10117769,-10076663,-10035462,-9994166,-9952777,-9911294,-9869717,-9828048,-9786286,-9744432,-9702486,-9660449,-9618321,-9576103,-9533794,-9491396,-9448908,-9406331,-9363666,-9320913,-9278072,-9235144,-9192128,-9149026,-9105838,-9062565,-9019206,-8975762,-8932234,-8888621,-8844925,-8801146,-8757284,-8713339,-8669313,-8625205,-8581015,-8536745,-8492395,-8447964,-8403454,-8358865,-8314198,-8269452,-8224628,-8179727,-8134748,-8089694,-8044563,-7999356,-7954074,-7908717,-7863286,-7817781,-7772202,-7726550,-7680825,-7635028,-7589159,-7543219,-7497208,-7451126,-7404974,-7358752,-7312461,-7266102,-7219673,-7173177,-7126614,-7079983,-7033286,-6986522,-6939693,-6892798,-6845839,-6798815,-6751727,-6704575,-6657361,-6610083,-6562744,-6515343,-6467880,-6420356,-6372773,-6325129,-6277425,-6229663,-6181842,-6133962,-6086025,-6038031,-5989980,-5941872,-5893709,-5845490,-5797216,-5748887,-5700505,-5652068,-5603579,-5555037,-5506442,-5457796,-5409098,-5360349,-5311550,-5262701,-5213803,-5164855,-5115859,-5066814,-5017722,-4968583,-4919397,-4870164,-4820886,-4771562,-4722194,-4672781,-4623324,-4573823,-4524279,-4474693,-4425065,-4375395,-4325684,-4275932,-4226140,-4176308,-4126437,-4076527,-4026579,-3976592,-3926569,-3876508,-3826411,-3776278,-3726109,-3675905,-3625667,-3575394,-3525088,-3474749,-3424377,-3373973,-3323537,-3273069,-3222571,-3172043,-3121484,-3070897,-3020280,-2969635,-2918962,-2868262,-2817534,-2766780,-2716000,-2665195,-2614364,-2563509,-2512630,-2461727,-2410800,-2359851,-2308880,-2257887,-2206873,-2155839,-2104783,-2053708,-2002614,-1951501,-1900369,-1849220,-1798053,-1746869,-1695669,-1644453,-1593222,-1541975,-1490714,-1439439,-1388150,-1336848,-1285534,-1234207,-1182869,-1131520,-1080160,-1028790,-977411,-926022,-874624,-823218,-771805,-720384,-668956,-617522,-566082,-514637,-463187,-411733,-360275,-308813,-257349,-205882,-154413,-102943,-51472);
	
begin

	INST_fft_controller : fft_controller
		port map(
			clk => s_clk,
			counter => s_counter,
			din => s_din,
			din_valid => s_din_valid,
			dout => s_dout,
			dout_valid => s_dout_valid,
			dout_last => s_dout_last,
			blk_exp => s_blk_exp);
	
	process
	begin
		s_clk <= '1';
		wait for PERIOD/2;
		s_clk <= '0';
		wait for PERIOD/2;
	end process;
	
	process(s_clk)
	begin
		if(rising_edge(s_clk)) then
			if(s_counter < transform_length-1) then
				s_counter <= s_counter +1;
			else
				s_counter <= 0;
			end if;
		end if;
	end process;
	s_din <= std_logic_vector(to_signed(sinewave(s_counter), din_width));


end Behavioral;



























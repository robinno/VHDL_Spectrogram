----------------------------------------------------------------------------------
-- Company: 
-- Engineer: 
-- 
-- Create Date: 10/28/2019 11:40:26 AM
-- Design Name: 
-- Module Name: tb_fft_controller - Behavioral
-- Project Name: 
-- Target Devices: 
-- Tool Versions: 
-- Description: 
-- 
-- Dependencies: 
-- 
-- Revision:
-- Revision 0.01 - File Created
-- Additional Comments:
-- 
----------------------------------------------------------------------------------


library IEEE;
use IEEE.STD_LOGIC_1164.ALL;

-- Uncomment the following library declaration if using
-- arithmetic functions with Signed or Unsigned values
use IEEE.NUMERIC_STD.ALL;

-- Uncomment the following library declaration if instantiating
-- any Xilinx leaf cells in this code.
--library UNISIM;
--use UNISIM.VComponents.all;

entity tb_fft_controller is
	generic(
		transform_length: integer := 2048;
		blk_exp_length : integer := 5;
		din_width : integer := 24;
		tdata_width : integer := 48
	);
--  Port ( );
end tb_fft_controller;

architecture Behavioral of tb_fft_controller is


	component fft_controller is
		generic(
			transform_length: integer := 2048;
			blk_exp_length : integer := 5;
			din_width : integer := 24;
			tdata_width : integer := 48
		);
		Port (
			clk : in STD_LOGIC;
			counter : in integer range 0 to transform_length-1;
			din : in STD_LOGIC_VECTOR(din_width-1 downto 0);
			din_valid : in STD_LOGIC;
			dout : out STD_LOGIC_VECTOR(din_width-1 downto 0);
			dout_valid : out STD_LOGIC; --Asserted when able to provide sample data
			dout_last : out STD_LOGIC; --Asserted on the last sample of the frame.
			blk_exp : out integer range 0 to (2**blk_exp_length - 1) --represents the total number of bits the data was scaled during the transform
		);
	end component;
	
	signal s_clk :  STD_LOGIC;
	signal s_counter :  integer := 0;
	signal s_din :  STD_LOGIC_VECTOR(23 downto 0);
	constant s_din_valid :  STD_LOGIC := '1';
	signal s_dout :  STD_LOGIC_VECTOR(23 downto 0);
	signal s_dout_valid :  STD_LOGIC;
	signal s_dout_last :  STD_LOGIC;
	signal s_blk_exp :  integer range 0 to (2**blk_exp_length - 1);
	constant PERIOD : time := 1ns;
	type int_array is array (0 to transform_length-1) of integer range -(2**din_width) to (2**din_width)-1;
	constant sinewave : int_array := (0, 9086687, -1719523, -2064873, -9819296, 14015793, -2589704, 1250129, -13996450, 13693959, 116748, 579242, -13843664, 11771550, 2011955, 34190, -13768196, 12279441, 799855, 673920, -14168875, 13912788, -660805, -1445, -13031668, 14014986, -283530, -1797921, -11642818, 13654970, -146097, -1271029, -12760482, 14175459, -1233543, 1701782, -14431992, 12339127, 44028, 2620478, -11737020, 4532130, 6033003, -308198, -4815209, -6213784, 12584082, -2773544, 508990, -13022278, 14346981, -1213247, 1086154, -14112912, 12407086, 1605445, 47780, -13641703, 11740748, 1570190, 413846, -14101642, 13327274, -259666, 547599, -13712659, 14174884, -591292, -1129562, -12022608, 13693689, -726, -1926534, -11972565, 13956449, -790735, 416707, -14014081, 13722193, -1058675, 2758548, -13566435, 8494962, 3096380, 1195243, -7885164, -1846488, 10222472, -2160201, -1152677, -10966733, 14299549, -2305705, 1318382, -14142203, 13328909, 621021, 381147, -13745826, 11654197, 1995638, 111463, -13863086, 12570966, 466132, 711464, -14109402, 14058251, -709818, -304133, -12723802, 13914210, -163066, -1951427, -11628466, 13706895, -292750, -854557, -13138679, 14174694, -1312291, 2125561, -14381270, 11471093, 746965, 2342486, -10755994, 2757612, 7270120, -909504, -3649832, -7771201, 13279395, -2796098, 911825, -13529759, 14148180, -686143, 895017, -14012950, 12101484, 1844895, 2943, -13667430, 11912855, 1286283, 537325, -14160141, 13594236, -466854, 370600, -13465252, 14135235, -477492, -1434026, -11818293, 13649866, -18565, -1737628, -12247042, 14066062, -994499, 952811, -14260262, 13297152, -728931, 2801219, -12951559, 7009786, 4223997, 612611, -6651287, -3654342, 11261895, -2496486, -377043, -11928535, 14424778, -1923311, 1283031, -14184660, 12948067, 1072032, 213912, -13676323, 11624798, 1884956, 221054, -13965451, 12878153, 148524, 693167, -13992641, 14146161, -699085, -632197, -12422044, 13813852, -67986, -2016179, -11702009, 13791922, -477331, -374110, -13515213, 14083865, -1298523, 2461175, -14178093, 10415848, 1592634, 1951730, -9664793, 925679, 8492102, -1466345, -2567034, -9178405, 13811980, -2689353, 1170865, -13876863, 13861471, -147949, 684560, -13899218, 11862101, 1982209, 11410, -13727677, 12145530, 966527, 637434, -14178160, 13819197, -612318, 135179, -13182088, 14060982, -348487, -1692274, -11681813, 13643364, -90450, -1449430, -12579151, 14150444, -1166879, 1464020, -14405190, 12703391, -251398, 2713134, -12178560, 5386638, 5419571, 0, -5419571, -5386638, 12178560, -2713134, 251398, -12703391, 14405190, -1464020, 1166879, -14150444, 12579151, 1449430, 90450, -13643364, 11681813, 1692274, 348487, -14060982, 13182088, -135179, 612318, -13819197, 14178160, -637434, -966527, -12145530, 13727677, -11410, -1982209, -11862101, 13899218, -684560, 147949, -13861471, 13876863, -1170865, 2689353, -13811980, 9178405, 2567034, 1466345, -8492102, -925679, 9664793, -1951730, -1592634, -10415848, 14178093, -2461175, 1298523, -14083865, 13515213, 374110, 477331, -13791922, 11702009, 2016179, 67986, -13813852, 12422044, 632197, 699085, -14146161, 13992641, -693167, -148524, -12878153, 13965451, -221054, -1884956, -11624798, 13676323, -213912, -1072032, -12948067, 14184660, -1283031, 1923311, -14424778, 11928535, 377043, 2496486, -11261895, 3654342, 6651287, -612611, -4223997, -7009786, 12951559, -2801219, 728931, -13297152, 14260262, -952811, 994499, -14066062, 12247042, 1737628, 18565, -13649866, 11818293, 1434026, 477492, -14135235, 13465252, -370600, 466854, -13594236, 14160141, -537325, -1286283, -11912855, 13667430, -2943, -1844895, -12101484, 14012950, -895017, 686143, -14148180, 13529759, -911825, 2796098, -13279395, 7771201, 3649832, 909504, -7270120, -2757612, 10755994, -2342486, -746965, -11471093, 14381270, -2125561, 1312291, -14174694, 13138679, 854557, 292750, -13706895, 11628466, 1951427, 163066, -13914210, 12723802, 304133, 709818, -14058251, 14109402, -711464, -466132, -12570966, 13863086, -111463, -1995638, -11654197, 13745826, -381147, -621021, -13328909, 14142203, -1318382, 2305705, -14299549, 10966733, 1152677, 2160201, -10222472, 1846488, 7885164, -1195243, -3096380, -8494962, 13566435, -2758548, 1058675, -13722193, 14014081, -416707, 790735, -13956449, 11972565, 1926534, 726, -13693689, 12022608, 1129562, 591292, -14174884, 13712659, -547599, 259666, -13327274, 14101642, -413846, -1570190, -11740748, 13641703, -47780, -1605445, -12407086, 14112912, -1086154, 1213247, -14346981, 13022278, -508990, 2773544, -12584082, 6213784, 4815209, 308198, -6033003, -4532130, 11737020, -2620478, -44028, -12339127, 14431992, -1701782, 1233543, -14175459, 12760482, 1271029, 146097, -13654970, 11642818, 1797921, 283530, -14014986, 13031668, 1445, 660805, -13912788, 14168875, -673920, -799855, -12279441, 13768196, -34190, -2011955, -11771550, 13843664, -579242, -116748, -13693959, 13996450, -1250129, 2589704, -14015793, 9819296, 2064873, 1719523, -9086687, 0, 9086687, -1719523, -2064873, -9819296, 14015793, -2589704, 1250129, -13996450, 13693959, 116748, 579242, -13843664, 11771550, 2011955, 34190, -13768196, 12279441, 799855, 673920, -14168875, 13912788, -660805, -1445, -13031668, 14014986, -283530, -1797921, -11642818, 13654970, -146097, -1271029, -12760482, 14175459, -1233543, 1701782, -14431992, 12339127, 44028, 2620478, -11737020, 4532130, 6033003, -308198, -4815209, -6213784, 12584082, -2773544, 508990, -13022278, 14346981, -1213247, 1086154, -14112912, 12407086, 1605445, 47780, -13641703, 11740748, 1570190, 413846, -14101642, 13327274, -259666, 547599, -13712659, 14174884, -591292, -1129562, -12022608, 13693689, -726, -1926534, -11972565, 13956449, -790735, 416707, -14014081, 13722193, -1058675, 2758548, -13566435, 8494962, 3096380, 1195243, -7885164, -1846488, 10222472, -2160201, -1152677, -10966733, 14299549, -2305705, 1318382, -14142203, 13328909, 621021, 381147, -13745826, 11654197, 1995638, 111463, -13863086, 12570966, 466132, 711464, -14109402, 14058251, -709818, -304133, -12723802, 13914210, -163066, -1951427, -11628466, 13706895, -292750, -854557, -13138679, 14174694, -1312291, 2125561, -14381270, 11471093, 746965, 2342486, -10755994, 2757612, 7270120, -909504, -3649832, -7771201, 13279395, -2796098, 911825, -13529759, 14148180, -686143, 895017, -14012950, 12101484, 1844895, 2943, -13667430, 11912855, 1286283, 537325, -14160141, 13594236, -466854, 370600, -13465252, 14135235, -477492, -1434026, -11818293, 13649866, -18565, -1737628, -12247042, 14066062, -994499, 952811, -14260262, 13297152, -728931, 2801219, -12951559, 7009786, 4223997, 612611, -6651287, -3654342, 11261895, -2496486, -377043, -11928535, 14424778, -1923311, 1283031, -14184660, 12948067, 1072032, 213912, -13676323, 11624798, 1884956, 221054, -13965451, 12878153, 148524, 693167, -13992641, 14146161, -699085, -632197, -12422044, 13813852, -67986, -2016179, -11702009, 13791922, -477331, -374110, -13515213, 14083865, -1298523, 2461175, -14178093, 10415848, 1592634, 1951730, -9664793, 925679, 8492102, -1466345, -2567034, -9178405, 13811980, -2689353, 1170865, -13876863, 13861471, -147949, 684560, -13899218, 11862101, 1982209, 11410, -13727677, 12145530, 966527, 637434, -14178160, 13819197, -612318, 135179, -13182088, 14060982, -348487, -1692274, -11681813, 13643364, -90450, -1449430, -12579151, 14150444, -1166879, 1464020, -14405190, 12703391, -251398, 2713134, -12178560, 5386638, 5419571, 0, -5419571, -5386638, 12178560, -2713134, 251398, -12703391, 14405190, -1464020, 1166879, -14150444, 12579151, 1449430, 90450, -13643364, 11681813, 1692274, 348487, -14060982, 13182088, -135179, 612318, -13819197, 14178160, -637434, -966527, -12145530, 13727677, -11410, -1982209, -11862101, 13899218, -684560, 147949, -13861471, 13876863, -1170865, 2689353, -13811980, 9178405, 2567034, 1466345, -8492102, -925679, 9664793, -1951730, -1592634, -10415848, 14178093, -2461175, 1298523, -14083865, 13515213, 374110, 477331, -13791922, 11702009, 2016179, 67986, -13813852, 12422044, 632197, 699085, -14146161, 13992641, -693167, -148524, -12878153, 13965451, -221054, -1884956, -11624798, 13676323, -213912, -1072032, -12948067, 14184660, -1283031, 1923311, -14424778, 11928535, 377043, 2496486, -11261895, 3654342, 6651287, -612611, -4223997, -7009786, 12951559, -2801219, 728931, -13297152, 14260262, -952811, 994499, -14066062, 12247042, 1737628, 18565, -13649866, 11818293, 1434026, 477492, -14135235, 13465252, -370600, 466854, -13594236, 14160141, -537325, -1286283, -11912855, 13667430, -2943, -1844895, -12101484, 14012950, -895017, 686143, -14148180, 13529759, -911825, 2796098, -13279395, 7771201, 3649832, 909504, -7270120, -2757612, 10755994, -2342486, -746965, -11471093, 14381270, -2125561, 1312291, -14174694, 13138679, 854557, 292750, -13706895, 11628466, 1951427, 163066, -13914210, 12723802, 304133, 709818, -14058251, 14109402, -711464, -466132, -12570966, 13863086, -111463, -1995638, -11654197, 13745826, -381147, -621021, -13328909, 14142203, -1318382, 2305705, -14299549, 10966733, 1152677, 2160201, -10222472, 1846488, 7885164, -1195243, -3096380, -8494962, 13566435, -2758548, 1058675, -13722193, 14014081, -416707, 790735, -13956449, 11972565, 1926534, 726, -13693689, 12022608, 1129562, 591292, -14174884, 13712659, -547599, 259666, -13327274, 14101642, -413846, -1570190, -11740748, 13641703, -47780, -1605445, -12407086, 14112912, -1086154, 1213247, -14346981, 13022278, -508990, 2773544, -12584082, 6213784, 4815209, 308198, -6033003, -4532130, 11737020, -2620478, -44028, -12339127, 14431992, -1701782, 1233543, -14175459, 12760482, 1271029, 146097, -13654970, 11642818, 1797921, 283530, -14014986, 13031668, 1445, 660805, -13912788, 14168875, -673920, -799855, -12279441, 13768196, -34190, -2011955, -11771550, 13843664, -579242, -116748, -13693959, 13996450, -1250129, 2589704, -14015793, 9819296, 2064873, 1719523, -9086687, 0, 9086687, -1719523, -2064873, -9819296, 14015793, -2589704, 1250129, -13996450, 13693959, 116748, 579242, -13843664, 11771550, 2011955, 34190, -13768196, 12279441, 799855, 673920, -14168875, 13912788, -660805, -1445, -13031668, 14014986, -283530, -1797921, -11642818, 13654970, -146097, -1271029, -12760482, 14175459, -1233543, 1701782, -14431992, 12339127, 44028, 2620478, -11737020, 4532130, 6033003, -308198, -4815209, -6213784, 12584082, -2773544, 508990, -13022278, 14346981, -1213247, 1086154, -14112912, 12407086, 1605445, 47780, -13641703, 11740748, 1570190, 413846, -14101642, 13327274, -259666, 547599, -13712659, 14174884, -591292, -1129562, -12022608, 13693689, -726, -1926534, -11972565, 13956449, -790735, 416707, -14014081, 13722193, -1058675, 2758548, -13566435, 8494962, 3096380, 1195243, -7885164, -1846488, 10222472, -2160201, -1152677, -10966733, 14299549, -2305705, 1318382, -14142203, 13328909, 621021, 381147, -13745826, 11654197, 1995638, 111463, -13863086, 12570966, 466132, 711464, -14109402, 14058251, -709818, -304133, -12723802, 13914210, -163066, -1951427, -11628466, 13706895, -292750, -854557, -13138679, 14174694, -1312291, 2125561, -14381270, 11471093, 746965, 2342486, -10755994, 2757612, 7270120, -909504, -3649832, -7771201, 13279395, -2796098, 911825, -13529759, 14148180, -686143, 895017, -14012950, 12101484, 1844895, 2943, -13667430, 11912855, 1286283, 537325, -14160141, 13594236, -466854, 370600, -13465252, 14135235, -477492, -1434026, -11818293, 13649866, -18565, -1737628, -12247042, 14066062, -994499, 952811, -14260262, 13297152, -728931, 2801219, -12951559, 7009786, 4223997, 612611, -6651287, -3654342, 11261895, -2496486, -377043, -11928535, 14424778, -1923311, 1283031, -14184660, 12948067, 1072032, 213912, -13676323, 11624798, 1884956, 221054, -13965451, 12878153, 148524, 693167, -13992641, 14146161, -699085, -632197, -12422044, 13813852, -67986, -2016179, -11702009, 13791922, -477331, -374110, -13515213, 14083865, -1298523, 2461175, -14178093, 10415848, 1592634, 1951730, -9664793, 925679, 8492102, -1466345, -2567034, -9178405, 13811980, -2689353, 1170865, -13876863, 13861471, -147949, 684560, -13899218, 11862101, 1982209, 11410, -13727677, 12145530, 966527, 637434, -14178160, 13819197, -612318, 135179, -13182088, 14060982, -348487, -1692274, -11681813, 13643364, -90450, -1449430, -12579151, 14150444, -1166879, 1464020, -14405190, 12703391, -251398, 2713134, -12178560, 5386638, 5419571, 0, -5419571, -5386638, 12178560, -2713134, 251398, -12703391, 14405190, -1464020, 1166879, -14150444, 12579151, 1449430, 90450, -13643364, 11681813, 1692274, 348487, -14060982, 13182088, -135179, 612318, -13819197, 14178160, -637434, -966527, -12145530, 13727677, -11410, -1982209, -11862101, 13899218, -684560, 147949, -13861471, 13876863, -1170865, 2689353, -13811980, 9178405, 2567034, 1466345, -8492102, -925679, 9664793, -1951730, -1592634, -10415848, 14178093, -2461175, 1298523, -14083865, 13515213, 374110, 477331, -13791922, 11702009, 2016179, 67986, -13813852, 12422044, 632197, 699085, -14146161, 13992641, -693167, -148524, -12878153, 13965451, -221054, -1884956, -11624798, 13676323, -213912, -1072032, -12948067, 14184660, -1283031, 1923311, -14424778, 11928535, 377043, 2496486, -11261895, 3654342, 6651287, -612611, -4223997, -7009786, 12951559, -2801219, 728931, -13297152, 14260262, -952811, 994499, -14066062, 12247042, 1737628, 18565, -13649866, 11818293, 1434026, 477492, -14135235, 13465252, -370600, 466854, -13594236, 14160141, -537325, -1286283, -11912855, 13667430, -2943, -1844895, -12101484, 14012950, -895017, 686143, -14148180, 13529759, -911825, 2796098, -13279395, 7771201, 3649832, 909504, -7270120, -2757612, 10755994, -2342486, -746965, -11471093, 14381270, -2125561, 1312291, -14174694, 13138679, 854557, 292750, -13706895, 11628466, 1951427, 163066, -13914210, 12723802, 304133, 709818, -14058251, 14109402, -711464, -466132, -12570966, 13863086, -111463, -1995638, -11654197, 13745826, -381147, -621021, -13328909, 14142203, -1318382, 2305705, -14299549, 10966733, 1152677, 2160201, -10222472, 1846488, 7885164, -1195243, -3096380, -8494962, 13566435, -2758548, 1058675, -13722193, 14014081, -416707, 790735, -13956449, 11972565, 1926534, 726, -13693689, 12022608, 1129562, 591292, -14174884, 13712659, -547599, 259666, -13327274, 14101642, -413846, -1570190, -11740748, 13641703, -47780, -1605445, -12407086, 14112912, -1086154, 1213247, -14346981, 13022278, -508990, 2773544, -12584082, 6213784, 4815209, 308198, -6033003, -4532130, 11737020, -2620478, -44028, -12339127, 14431992, -1701782, 1233543, -14175459, 12760482, 1271029, 146097, -13654970, 11642818, 1797921, 283530, -14014986, 13031668, 1445, 660805, -13912788, 14168875, -673920, -799855, -12279441, 13768196, -34190, -2011955, -11771550, 13843664, -579242, -116748, -13693959, 13996450, -1250129, 2589704, -14015793, 9819296, 2064873, 1719523, -9086687, 0, 9086687, -1719523, -2064873, -9819296, 14015793, -2589704, 1250129, -13996450, 13693959, 116748, 579242, -13843664, 11771550, 2011955, 34190, -13768196, 12279441, 799855, 673920, -14168875, 13912788, -660805, -1445, -13031668, 14014986, -283530, -1797921, -11642818, 13654970, -146097, -1271029, -12760482, 14175459, -1233543, 1701782, -14431992, 12339127, 44028, 2620478, -11737020, 4532130, 6033003, -308198, -4815209, -6213784, 12584082, -2773544, 508990, -13022278, 14346981, -1213247, 1086154, -14112912, 12407086, 1605445, 47780, -13641703, 11740748, 1570190, 413846, -14101642, 13327274, -259666, 547599, -13712659, 14174884, -591292, -1129562, -12022608, 13693689, -726, -1926534, -11972565, 13956449, -790735, 416707, -14014081, 13722193, -1058675, 2758548, -13566435, 8494962, 3096380, 1195243, -7885164, -1846488, 10222472, -2160201, -1152677, -10966733, 14299549, -2305705, 1318382, -14142203, 13328909, 621021, 381147, -13745826, 11654197, 1995638, 111463, -13863086, 12570966, 466132, 711464, -14109402, 14058251, -709818, -304133, -12723802, 13914210, -163066, -1951427, -11628466, 13706895, -292750, -854557, -13138679, 14174694, -1312291, 2125561, -14381270, 11471093, 746965, 2342486, -10755994, 2757612, 7270120, -909504, -3649832, -7771201, 13279395, -2796098, 911825, -13529759, 14148180, -686143, 895017, -14012950, 12101484, 1844895, 2943, -13667430, 11912855, 1286283, 537325, -14160141, 13594236, -466854, 370600, -13465252, 14135235, -477492, -1434026, -11818293, 13649866, -18565, -1737628, -12247042, 14066062, -994499, 952811, -14260262, 13297152, -728931, 2801219, -12951559, 7009786, 4223997, 612611, -6651287, -3654342, 11261895, -2496486, -377043, -11928535, 14424778, -1923311, 1283031, -14184660, 12948067, 1072032, 213912, -13676323, 11624798, 1884956, 221054, -13965451, 12878153, 148524, 693167, -13992641, 14146161, -699085, -632197, -12422044, 13813852, -67986, -2016179, -11702009, 13791922, -477331, -374110, -13515213, 14083865, -1298523, 2461175, -14178093, 10415848, 1592634, 1951730, -9664793, 925679, 8492102, -1466345, -2567034, -9178405, 13811980, -2689353, 1170865, -13876863, 13861471, -147949, 684560, -13899218, 11862101, 1982209, 11410, -13727677, 12145530, 966527, 637434, -14178160, 13819197, -612318, 135179, -13182088, 14060982, -348487, -1692274, -11681813, 13643364, -90450, -1449430, -12579151, 14150444, -1166879, 1464020, -14405190, 12703391, -251398, 2713134, -12178560, 5386638, 5419571, 0, -5419571, -5386638, 12178560, -2713134, 251398, -12703391, 14405190, -1464020, 1166879, -14150444, 12579151, 1449430, 90450, -13643364, 11681813, 1692274, 348487, -14060982, 13182088, -135179, 612318, -13819197, 14178160, -637434, -966527, -12145530, 13727677, -11410, -1982209, -11862101, 13899218, -684560, 147949, -13861471, 13876863, -1170865, 2689353, -13811980, 9178405, 2567034, 1466345, -8492102, -925679, 9664793, -1951730, -1592634, -10415848, 14178093, -2461175, 1298523, -14083865, 13515213, 374110, 477331, -13791922, 11702009, 2016179, 67986, -13813852, 12422044, 632197, 699085, -14146161, 13992641, -693167, -148524, -12878153, 13965451, -221054, -1884956, -11624798, 13676323, -213912, -1072032, -12948067, 14184660, -1283031, 1923311, -14424778, 11928535, 377043, 2496486, -11261895, 3654342, 6651287, -612611, -4223997, -7009786, 12951559, -2801219, 728931, -13297152, 14260262, -952811, 994499, -14066062, 12247042, 1737628, 18565, -13649866, 11818293, 1434026, 477492, -14135235, 13465252, -370600, 466854, -13594236, 14160141, -537325, -1286283, -11912855, 13667430, -2943, -1844895, -12101484, 14012950, -895017, 686143, -14148180, 13529759, -911825, 2796098, -13279395, 7771201, 3649832, 909504, -7270120, -2757612, 10755994, -2342486, -746965, -11471093, 14381270, -2125561, 1312291, -14174694, 13138679, 854557, 292750, -13706895, 11628466, 1951427, 163066, -13914210, 12723802, 304133, 709818, -14058251, 14109402, -711464, -466132, -12570966, 13863086, -111463, -1995638, -11654197, 13745826, -381147, -621021, -13328909, 14142203, -1318382, 2305705, -14299549, 10966733, 1152677, 2160201, -10222472, 1846488, 7885164, -1195243, -3096380, -8494962, 13566435, -2758548, 1058675, -13722193, 14014081, -416707, 790735, -13956449, 11972565, 1926534, 726, -13693689, 12022608, 1129562, 591292, -14174884, 13712659, -547599, 259666, -13327274, 14101642, -413846, -1570190, -11740748, 13641703, -47780, -1605445, -12407086, 14112912, -1086154, 1213247, -14346981, 13022278, -508990, 2773544, -12584082, 6213784, 4815209, 308198, -6033003, -4532130, 11737020, -2620478, -44028, -12339127, 14431992, -1701782, 1233543, -14175459, 12760482, 1271029, 146097, -13654970, 11642818, 1797921, 283530, -14014986, 13031668, 1445, 660805, -13912788, 14168875, -673920, -799855, -12279441, 13768196, -34190, -2011955, -11771550, 13843664, -579242, -116748, -13693959, 13996450, -1250129, 2589704, -14015793, 9819296, 2064873, 1719523, -9086687);
begin

	INST_fft_controller : fft_controller
		port map(
			clk => s_clk,
			counter => s_counter,
			din => s_din,
			din_valid => s_din_valid,
			dout => s_dout,
			dout_valid => s_dout_valid,
			dout_last => s_dout_last,
			blk_exp => s_blk_exp);
	
	process
	begin
		s_clk <= '1';
		wait for PERIOD/2;
		s_clk <= '0';
		wait for PERIOD/2;
	end process;
	
	process(s_clk)
	begin
		if(rising_edge(s_clk)) then
			if(s_counter < transform_length-1) then
				s_counter <= s_counter +1;
			else
				s_counter <= 0;
			end if;
		end if;
	end process;
	s_din <= std_logic_vector(to_signed(sinewave(s_counter), din_width));


end Behavioral;


























